#+TITLE: VS Code (OSS) configuration
#+SETUPFILE: ../.setup.org

* Extensions
** Dump
#+begin_src shell :tangle ~/.local/lib/haris/vscode-dump-extensions.sh
  {
      code --list-extensions --show-versions
      cat extensions.txt
  } | sponge | sort | uniq > extensions.txt
#+end_src
* Bootstrap
** Symlinks
#+begin_src shell ~/.local/lib/haris/vscode-bootstrap-symlinks.sh
  src="$(pwd)"
  for dest in ~/".config/Code/User" ~/".config/Code - OSS"; do
      (
          cd "$dest" &&
          rm -f "$dest"/settings.json "$dest"/keybindings.json &&
          ln -s "$src"/settings.json "$dest"/settings.json &&
          ln -s "$src"/keybindings.json "$dest"/keybindings.json
      )
  done
#+end_src
** Extensions
#+begin_src shell ~/.local/lib/haris/vscode-install-extensions.sh
  xargs -n 1 code --install-extension < extensions.txt
#+end_src
